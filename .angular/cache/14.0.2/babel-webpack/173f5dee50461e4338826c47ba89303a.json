{"ast":null,"code":"import { interval } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/monitor.service\";\nimport * as i2 from \"../../services/settings.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../simple/loading/loading.component\";\nimport * as i5 from \"../simple/card/card.component\";\nimport * as i6 from \"../twitter-list/twitter-list.component\";\n\nfunction MonitorComponent_div_5_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const case_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", case_r6, \" \");\n  }\n}\n\nfunction MonitorComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Latest Cases:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵtemplate(5, MonitorComponent_div_5_li_5_Template, 2, 1, \"li\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"hr\");\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \" Stats: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"hr\");\n    i0.ɵɵelementStart(21, \"a\", 9);\n    i0.ɵɵelement(22, \"i\", 10);\n    i0.ɵɵtext(23, \" More... \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.latestCases);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.openCases.length, \" open cases \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.closedCases.length, \" closed cases \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.allEvidence.length, \" evidence \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.allWitnesses.length, \" witnesses \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.allIssues.length, \" issues \");\n  }\n}\n\nfunction MonitorComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Current Hero:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"hr\");\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Stats:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"hr\");\n    i0.ɵɵelementStart(21, \"a\", 11);\n    i0.ɵɵelement(22, \"i\", 10);\n    i0.ɵɵtext(23, \" More... \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r1.currentHero.name, \" (\", ctx_r1.currentHero.hpText, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" LVL \", ctx_r1.currentHero.level, \" (\", ctx_r1.currentHero.expText, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.currentHero.journal.length, \" update(s) \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.heroStats.heroesCreated, \" heroes created \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.heroStats.questsCompleted, \" quests completed \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.heroStats.chaptersCompleted, \" chapters completed \");\n  }\n}\n\nfunction MonitorComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \" Current Mystery: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"hr\");\n    i0.ɵɵelementStart(9, \"p\")(10, \"strong\");\n    i0.ɵɵtext(11, \" Stats: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"hr\");\n    i0.ɵɵelementStart(21, \"a\", 12);\n    i0.ɵɵelement(22, \"i\", 10);\n    i0.ɵɵtext(23, \" More... \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.currentMystery.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.currentMystery.announcements.length, \" announcement(s) \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.mysteryStats.solvedMysteryCount, \" mysteries solved \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.mysteryStats.sceneCount, \" scenes \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.mysteryStats.suspectCount, \" suspects \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.mysteryStats.weaponCount, \" weapons \");\n  }\n}\n\nfunction MonitorComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\n\nexport let MonitorComponent = /*#__PURE__*/(() => {\n  class MonitorComponent {\n    constructor(monitorService, settingsService) {\n      this.monitorService = monitorService;\n      this.settingsService = settingsService;\n      this.currentHero = null;\n      this.heroStats = null;\n      this.author = \"adam_on_the_net\";\n      this.listUrl = \"adam-on-the-internet-25746\";\n      this.currentMystery = null;\n      this.mysteryStats = null;\n      this.openCases = null;\n      this.closedCases = null;\n      this.caseSummaries = null;\n      this.allEvidence = null;\n      this.allWitnesses = null;\n      this.allIssues = null;\n      this.settingsService.showNav = false;\n    }\n\n    get questBotReady() {\n      return this.currentHero !== null && this.heroStats !== null;\n    }\n\n    get clueBotReady() {\n      return this.currentMystery !== null && this.mysteryStats !== null;\n    }\n\n    get latestCases() {\n      return this.caseSummaries.slice(0, 3);\n    }\n\n    get orderReady() {\n      return this.openCases !== null && this.closedCases !== null && this.caseSummaries !== null && this.allEvidence !== null && this.allWitnesses !== null && this.allIssues !== null;\n    }\n\n    ngOnInit() {\n      this.startRefresh();\n    }\n\n    startRefresh() {\n      this.checkAllMonitors();\n      const count = 30;\n      const source = interval(count * 1000);\n      this.monitorRefresher = source.subscribe(() => this.checkAllMonitors());\n    }\n\n    checkAllMonitors() {\n      console.log(\"Refreshing monitors...\");\n      this.checkQuestBot();\n      this.checkClueBot();\n      this.checkOrder();\n    }\n\n    checkQuestBot() {\n      this.loadCurrentHero();\n      this.loadHeroStats();\n    }\n\n    checkClueBot() {\n      this.loadCurrentMystery();\n      this.loadMysteryStats();\n    }\n\n    checkOrder() {\n      this.loadOpenCases();\n      this.loadClosedCases();\n      this.loadCaseSummaries();\n      this.loadEvidence();\n      this.loadWitnesses();\n      this.loadIssues();\n    }\n\n    loadIssues() {\n      this.allIssues = null;\n      this.monitorService.getIssue().subscribe(res => this.allIssues = res, error => {\n        console.log(\"get issues failed\");\n      });\n    }\n\n    loadWitnesses() {\n      this.allWitnesses = null;\n      this.monitorService.getWitness().subscribe(res => this.allWitnesses = res, error => {\n        console.log(\"get witnesses failed\");\n      });\n    }\n\n    loadEvidence() {\n      this.allEvidence = null;\n      this.monitorService.getEvidence().subscribe(res => this.allEvidence = res, error => {\n        console.log(\"get evidence failed\");\n      });\n    }\n\n    loadOpenCases() {\n      this.openCases = null;\n      this.monitorService.getOpenCases().subscribe(res => this.openCases = res, error => {\n        console.log(\"get open cases failed\");\n      });\n    }\n\n    loadClosedCases() {\n      this.closedCases = null;\n      this.monitorService.getClosedCases().subscribe(res => this.closedCases = res, error => {\n        console.log(\"get closed cases failed\");\n      });\n    }\n\n    loadCaseSummaries() {\n      this.closedCases = null;\n      this.monitorService.getCaseSummaries().subscribe(res => this.caseSummaries = res, error => {\n        console.log(\"get summary cases failed\");\n      });\n    }\n\n    loadCurrentMystery() {\n      this.currentMystery = null;\n      this.monitorService.getCurrentMystery().subscribe(res => this.currentMystery = res, error => {\n        console.log(\"get current mystery failed\");\n      });\n    }\n\n    loadMysteryStats() {\n      this.mysteryStats = null;\n      this.monitorService.getClueBotStats().subscribe(res => this.mysteryStats = res, error => {\n        console.log(\"get clue bot stats failed\");\n      });\n    }\n\n    loadCurrentHero() {\n      this.currentHero = null;\n      this.monitorService.getCurrentHero().subscribe(res => this.currentHero = res, error => {\n        console.log(\"get current hero failed\");\n      });\n    }\n\n    loadHeroStats() {\n      this.heroStats = null;\n      this.monitorService.getHeroStats().subscribe(res => this.heroStats = res, error => {\n        console.log(\"get hero stats failed\");\n      });\n    }\n\n  }\n\n  MonitorComponent.ɵfac = function MonitorComponent_Factory(t) {\n    return new (t || MonitorComponent)(i0.ɵɵdirectiveInject(i1.MonitorService), i0.ɵɵdirectiveInject(i2.SettingsService));\n  };\n\n  MonitorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MonitorComponent,\n    selectors: [[\"app-monitor\"]],\n    decls: 19,\n    vars: 11,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-6\", \"my-3\"], [3, \"title\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"col-md-12\"], [3, \"author\", \"listUrl\"], [\"loading\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"https://order-in-the-court-app.herokuapp.com/\", \"target\", \"_blank\"], [1, \"fa\", \"fa-link\"], [\"href\", \"https://adam-on-the-internet.github.io/the-quest-bot-ui/dashboard\", \"target\", \"_blank\"], [\"href\", \"https://adam-on-the-internet.github.io/the-clue-bot\", \"target\", \"_blank\"]],\n    template: function MonitorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"app-card\", 3);\n        i0.ɵɵelement(4, \"hr\");\n        i0.ɵɵtemplate(5, MonitorComponent_div_5_Template, 24, 6, \"div\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"app-card\", 3);\n        i0.ɵɵelement(8, \"hr\");\n        i0.ɵɵtemplate(9, MonitorComponent_div_9_Template, 24, 8, \"div\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 2)(11, \"app-card\", 3);\n        i0.ɵɵelement(12, \"hr\");\n        i0.ɵɵtemplate(13, MonitorComponent_div_13_Template, 24, 6, \"div\", 4);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"div\", 1)(15, \"div\", 5);\n        i0.ɵɵelement(16, \"app-twitter-list\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(17, MonitorComponent_ng_template_17_Template, 1, 0, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(18);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"title\", \"ORDER IN THE COURT\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.orderReady)(\"ngIfElse\", _r3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", \"THE QUEST BOT\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.questBotReady)(\"ngIfElse\", _r3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", \"THE CLUE BOT\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.clueBotReady)(\"ngIfElse\", _r3);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"author\", ctx.author)(\"listUrl\", ctx.listUrl);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.LoadingComponent, i5.CardComponent, i6.TwitterListComponent]\n  });\n  return MonitorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}