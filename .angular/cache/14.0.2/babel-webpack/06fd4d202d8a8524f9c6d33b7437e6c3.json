{"ast":null,"code":"import { CookieHelper } from \"../../utilities/cookie.util\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/muppet.service\";\nimport * as i2 from \"../../services/nav-helper.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../simple/loading/loading.component\";\n\nfunction MuppetListingComponent_ng_container_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_div_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.add());\n    });\n    i0.ɵɵelement(2, \"i\", 15);\n    i0.ɵɵtext(3, \" Add a Muppet \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\");\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Delete?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"ARCHIVED\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\")(2, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_ng_container_7_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const muppet_r10 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.goEdit(muppet_r10));\n    });\n    i0.ɵɵelement(3, \"i\", 22);\n    i0.ɵɵtext(4, \" Edit \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_ng_container_7_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const muppet_r10 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.requestDelete(muppet_r10));\n    });\n    i0.ɵɵelement(7, \"i\", 23);\n    i0.ɵɵtext(8, \" Delete \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_span_3_Template, 2, 0, \"span\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const muppet_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.goInfo(muppet_r10));\n    });\n    i0.ɵɵtext(6, \"Info\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_ng_container_7_Template, 9, 0, \"ng-container\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const muppet_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", muppet_r10.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", muppet_r10.archived);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isAdmin);\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, MuppetListingComponent_ng_container_7_ng_container_11_tr_12_ng_container_1_Template, 8, 3, \"ng-container\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const muppet_r10 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !muppet_r10.archived || ctx_r9.isAdmin);\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"p\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 17)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, MuppetListingComponent_ng_container_7_ng_container_11_ng_container_10_Template, 5, 0, \"ng-container\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, MuppetListingComponent_ng_container_7_ng_container_11_tr_12_Template, 2, 1, \"tr\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Showing \", ctx_r4.muppets.length, \" muppet(s)...\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.isAdmin);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.muppets);\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No Muppets to show. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MuppetListingComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtemplate(2, MuppetListingComponent_ng_container_7_div_2_Template, 4, 0, \"div\", 8);\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.toRandom());\n    });\n    i0.ɵɵelement(5, \"i\", 11);\n    i0.ɵɵtext(6, \" Random Muppet \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 9)(8, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function MuppetListingComponent_ng_container_7_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.toStats());\n    });\n    i0.ɵɵelement(9, \"i\", 12);\n    i0.ɵɵtext(10, \" Muppet Stats \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(11, MuppetListingComponent_ng_container_7_ng_container_11_Template, 13, 3, \"ng-container\", 13);\n    i0.ɵɵtemplate(12, MuppetListingComponent_ng_container_7_p_12_Template, 2, 0, \"p\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAdmin);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.muppets.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.muppets.length === 0);\n  }\n}\n\nfunction MuppetListingComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\n\nexport let MuppetListingComponent = /*#__PURE__*/(() => {\n  class MuppetListingComponent {\n    constructor(muppetService, navHelperService) {\n      this.muppetService = muppetService;\n      this.navHelperService = navHelperService;\n      this.muppets = null;\n    }\n\n    get ready() {\n      return this.muppets !== null;\n    }\n\n    get isAdmin() {\n      return CookieHelper.admin;\n    }\n\n    ngOnInit() {\n      this.load();\n    }\n\n    add() {\n      this.navHelperService.goToMuppetAdd();\n    }\n\n    toRandom() {\n      this.navHelperService.goToMuppetRandom();\n    }\n\n    toStats() {\n      this.navHelperService.goToMuppetStats();\n    }\n\n    goInfo(muppet) {\n      this.navHelperService.goToMuppetDisplay(muppet._id);\n    }\n\n    goEdit(muppet) {\n      this.navHelperService.goToMuppetEdit(muppet._id);\n    }\n\n    requestDelete(muppet) {\n      const confirmDelete = confirm(`Are you sure you want to delete ${muppet.name}?`);\n\n      if (confirmDelete) {\n        this.delete(muppet);\n      }\n    }\n\n    load() {\n      this.muppetService.getAll().subscribe(res => this.muppets = res);\n    }\n\n    delete(muppet) {\n      let response;\n      this.muppetService.delete(muppet._id).subscribe(res => response = res, () => {}, () => {\n        this.load();\n      });\n    }\n\n  }\n\n  MuppetListingComponent.ɵfac = function MuppetListingComponent_Factory(t) {\n    return new (t || MuppetListingComponent)(i0.ɵɵdirectiveInject(i1.MuppetService), i0.ɵɵdirectiveInject(i2.NavHelperService));\n  };\n\n  MuppetListingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MuppetListingComponent,\n    selectors: [[\"app-muppet-listing\"]],\n    decls: 10,\n    vars: 2,\n    consts: [[1, \"bg-white\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-12\", \"mt-3\", \"text-center\"], [1, \"col-md-12\", \"text-center\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [1, \"row\", \"justify-content-center\"], [\"class\", \"col-md-3\", 4, \"ngIf\"], [1, \"col-md-3\"], [1, \"btn\", \"btn-info\", \"btn-block\", 3, \"click\"], [1, \"fa\", \"fa-repeat\"], [1, \"fa\", \"fa-line-chart\"], [4, \"ngIf\"], [1, \"btn\", \"btn-success\", \"btn-block\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [1, \"my-3\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"badge badge-warning\", 4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"badge\", \"badge-warning\"], [1, \"fa\", \"fa-pencil\"], [1, \"fa\", \"fa-trash\"]],\n    template: function MuppetListingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\");\n        i0.ɵɵtext(5, \"Muppet Ranking System\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵtemplate(7, MuppetListingComponent_ng_container_7_Template, 13, 3, \"ng-container\", 5);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(8, MuppetListingComponent_ng_template_8_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(9);\n\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.ready)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.LoadingComponent]\n  });\n  return MuppetListingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}